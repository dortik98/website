<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fredoka:wght@600&amp;display=swap">
  <style>
    body {
      font-family: 'Fredoka', sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background: url('https://fytg.fun/images/omg.png') center/cover fixed;
      color: white;
    }

    #title {
      font-size: 115px;
      margin-bottom: 20px;
    }

    #countdown {
      text-align: center;
      font-size: 100px;
      cursor: pointer; /* Make the countdown clickable */
    }

    #milliseconds {
      font-size: 33px;
    }

    #button {
      position: fixed;
      top: 20px;
      right: 20px;
      opacity: 0.6;
      cursor: pointer;
    }

    #button img {
      width: 60px;
    }

    #discordButton {
      position: fixed;
      top: 20px;
      left: 20px;
      opacity: 0.7;
      cursor: pointer;
    }

    #discordButton img {
      width: 40px;
    }

    h1 {
      color: lightgreen;
    }   

    a {
      text-decoration: none; /* Remove default underline */
    }

    a:hover {
      text-decoration: underline;
      text-decoration-color: lightgreen; /* Set the underline color on hover */
    }
	
	@keyframes pulse {
  0% { font-size: 25px; color: yellow; }
  50% { font-size: 30px; color: lime; }
  100% { font-size: 25px; color: yellow; }
    }
	
	@keyframes glow {
  0% { text-shadow: 0 0 10px yellow; }
  50% { text-shadow: 0 0 20px lime; }
  100% { text-shadow: 0 0 10px yellow; }
}
  </style>
  <link rel="shortcut icon" href="https://raw.githubusercontent.com/dortik98/website/main/images/faviconupdate.png">
  <title>Next PS99 St. Patricks Event Countdown!</title>
  <meta name="description" content="Made out of boredom by fytage">
  <script>
    // JavaScript to detect if the user is on a mobile device
    function isMobileDevice() {
      return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    }

    // Redirect to another site if the user is on a mobile device
    if (isMobileDevice()) {
      window.location.href = "https://fytg.fun/mobilevent/";
    }
  </script>
<script>
    function updateCountdown() {
       const now = convertToGMT0100(new Date()); // Convert current time to Prague time
        const target = new Date(now);
        target.setHours(19, 0, 0, 0); // Set the target time to 7 PM Prague 
        const nextOccurrences = [3, 7, 11, 15, 19, 23];
        let nextOccurrenceIndex = 0;
        for (let i = 0; i < nextOccurrences.length; i++) {
            if (now.getHours() < nextOccurrences[i]) {
                nextOccurrenceIndex = i;
                break;
            }
        }
        target.setHours(nextOccurrences[nextOccurrenceIndex]);
        if (now >= target) {
            nextOccurrenceIndex = (nextOccurrenceIndex + 1) % nextOccurrences.length; // Move to the next occurrence
            target.setDate(target.getDate() + 1); // Move to the next day
            target.setHours(nextOccurrences[nextOccurrenceIndex]);
        }
        const distance = target - now;
        const hours = Math.max(Math.floor(distance / (1000 * 60 * 60)), 0); // Ensure hours are non-negative
        const minutes = Math.max(Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)), 0); // Ensure minutes are non-negative
        const seconds = Math.max(Math.floor((distance % (1000 * 60)) / 1000), 0); // Ensure seconds are non-negative
        const milliseconds = Math.max(Math.floor(distance % 1000), 0); // Ensure milliseconds are non-negative
        document.getElementById("countdown").innerHTML = `${hours}h ${minutes}m ${seconds}s`;
        document.getElementById("milliseconds").innerHTML = `${milliseconds}ms`;

        // Display event message for 1 hour after the timer resets
        if (hours === 3 && minutes < 60) {
            document.getElementById("eventMessage").style.display = "block";
        } else {
            document.getElementById("eventMessage").style.display = "none";
        }
    }

    function convertToGMT0100(dateObj) {
        return new Date(dateObj.toLocaleString("en-US", { timeZone: "Europe/Prague" }));
    }

    setInterval(updateCountdown, 10); // Update every 10 milliseconds for better accuracy
</script>

</head>
<body>

<a href="https://discord.com/oauth2/authorize?client_id=1216682145058263050&permissions=274878295040&scope=bot">
  <h1>Invite my Pet Simulator bot to your Discord Server!</h1>
</a>

<div id="title">Next St. Patricks Event</div>
<div id="countdown"></div>

<a id="button" href="https://fytg.fun/" target="_blank">
  <img src="https://raw.githubusercontent.com/dortik98/website/main/images/signature-white.png" alt="Signature">
</a>

<a id="discordButton" href="https://discord.gg/pet-simulator-news-1146582505693138954" target="_blank">
  <img src="https://raw.githubusercontent.com/dortik98/website/main/images/discordupd.png" alt="Discord">
</a>
<br>
<div id="eventMessage" style="display: none; color: yellow; font-size: 30px;">
  <span style="font-size: 25px; color: lightgreen; animation: pulse 2.5s infinite, glow 2.5s infinite;">An event is already going on! Go to World 1 and start on the path behind the eggs!</span>
</div>

</body>
</html>
